<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardMapper"> 
	
	<select id="getBoardList" resultType="BoardDTO">
		select * from board; 
	</select>
	
	<insert id="uploadBoard" parameterType="BoardDTO"> 
		insert into board(title, photo, content) values (#{title}, #{image}, #{content})})
	</insert>
	
	<select id="searchBoardListAll" resultType="BoardDTO" parameterType="String">
		SELECT * FROM board AS B
				INNER JOIN user AS U ON B.user_id = U.id
				INNER JOIN `group` AS G ON B.group_id = G.id WHERE B.title LIKE '%#{keyword}%'
														OR B.content LIKE '%#{keyword}%'
														OR U.name LIKE '%#{keyword}%'
														OR U.user_id LIKE '%#{keyword}%'
														OR G.name LIKE '%#{keyword}%'
														OR G.link LIKE '%#{keyword}%'
														
	</select>
</mapper>